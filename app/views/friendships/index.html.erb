<div class="user-contain">
  <div class="profile-info d-flex" >
    <div class="profile-pic">
      <% if user_signed_in? && current_user.photo.attached? %>
        <%= cl_image_tag current_user.photo.key, height: 80, width: 80, crop: :fill%>
      <% else %>
        <%= image_tag "avatar-kurt.png", class: "navbar-avatar" %>
      <% end %>
    </div>
    <div class="info-user">
      <h2 class="profile-username"><%= current_user.username %></h2>
      <h3 class="profile-email"><%= current_user.email %></h3>
      <h4 class="profile-bio1"><%= current_user.bio %></h4>
    </div>
  </div>

  <h1 class="prof">My Friends:</h1>
  <div class="pending-container">
    <h2>Pending Friends:</h2>
    <% @pending_friendships.each do |friendship| %>
      <%= user_avatar(friendship.asker) %>
      <p><%= friendship.asker.email %></p>
      <p><%= friendship.asker.username %></p>

      <%= link_to accept_friendship_path(friendship),
        data: { turbo_method: :patch }, class: 'btn btn-outline-success rounded-5' do %>
        <i class="fa-solid fa-check"></i>
      <% end %>

      <%= link_to reject_friendship_path(friendship),
        data: { turbo_method: :patch }, class: 'btn btn-outline-light rounded-5' do %>
        <i class="fa-solid fa-xmark"></i>
      <% end %>
    <% end %>
  </div>
  <div class="friends-info d-flex py-2 px-4">
    <h2>Friends:</h2>
    <% @accepted_friendships.each do |friendship| %>
      <% friend = friendship.asker == current_user ? friendship.receiver : friendship.asker %>
      <div class="friends-pic">
        <%= user_avatar(friend) %>
        <h1 class="username-friendships"><%= friend.username %></h1>
        <h1 class="username-friendships"><%= friend.email %></h1>
      </div>
    <% end %>
  </div>


</div>
